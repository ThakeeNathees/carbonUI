
func main() {

	var window = ui.Window("new window");
	var editor = ui.TextEditor();
	
	var file = File("main.cb");
	editor.SetText(file.read());
	file.close();

	if (window.Initialize() != 0) {
		println("initialize doesn't returned 0");
		return 1;
	}
	
	var color = Color(1, .1, .6, 1);


	while (!window.ShouldClose()) {
		window.PollEvents();
		
		window.NewFrame();
		/* ------------------------------------------ */
		ui.DockSpace(ui.DockNodeFlags.AutoHideTabBar);
		
		var _ = false;
		ui.Begin("TextEdit", _, ui.WindowFlags.NoTitleBar);
		//ui.ColorEdit3("clear color", color);
		editor.Render();
		ui.End();
		
		
		/* ------------------------------------------ */
		window.Clear(color);
		window.DrawFrame();
		window.SwapBuffer();
	}
		
	window.Cleanup();
	return 0;
	
}